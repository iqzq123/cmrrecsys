<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" layout="absolute" 
	borderColor="#000000" 
	creationComplete = "init()">
	<mx:Script>
		<![CDATA[
			import mx.controls.Alert;
			import mx.rpc.http.mxml.HTTPService;
			import mx.rpc.events.ResultEvent;
			import mx.managers.PopUpManager;
			import SNADisplay.component.AnalysisWindow;
			private var str:String;
			private function init():void
			{
				var getstr : HTTPService = new HTTPService();
				getstr.method = "post";
				getstr.resultFormat = "text";
				getstr.url = "start?get=get";
				getstr.addEventListener(ResultEvent.RESULT,getString)
				getstr.send();
			}
			
			private function getString(e:ResultEvent):void
			{
				str = String(e.result);
			}
			
			private function onclick():void
			{
				bt.label=str;
				init();
			}
			
			private var aw:AnalysisWindow = new AnalysisWindow;
			private function onclick1():void
			{
				PopUpManager.addPopUp(aw,this,true);
				PopUpManager.centerPopUp(aw);
			}
		]]>
	</mx:Script>
	<mx:Button label="click me" width="168" height="83" fontSize="20"
		id="bt" click="onclick()" includeInLayout="false" visible="false"/>
	<mx:Button label="test" width="168" height="83" fontSize="20" click="onclick1()" x="315.5" y="205"/>
	
	<mx:Script>
        <![CDATA[

            [Bindable]
            public var selectedNode:XML;

            // Event handler for the Tree control change event.
            public function treeChanged(event:Event):void {
                selectedNode=Tree(event.target).selectedItem as XML;
            }
            
            private function dianwo():void {
            	var dic:Dictionary = new Dictionary;
            	var arr:Array;
            	arr = new Array;
            	arr.push("apple");
            	dic["a"] = arr;
            	
            	arr = new Array;
            	arr.push("bnana");
            	dic["b"] = arr;
            	
            	for each ( arr in dic ){
            		Alert.show(arr[0].toString());
            	}
            }
        ]]>
    </mx:Script>

    <mx:XMLList id="treeData">
        <node label="Mail Box">
            <node label="Inbox">
                <node label="Marketing"/>
                <node label="Product Management"/>
                <node label="Personal"/>
            </node>
            <node label="Outbox">
                <node label="Professional"/>
                <node label="Personal"/>
            </node>
            <node label="Spam">
             </node>
            <node label="Sent"/>
        </node>    
    </mx:XMLList>

    <mx:Panel title="Tree Control Example" height="75%" width="75%" 
        paddingTop="10" paddingLeft="10" paddingRight="10" paddingBottom="10">

        <mx:Label width="100%" color="blue" 
            text="Select a node in the Tree control."/>

        <mx:HDividedBox width="100%" height="100%">
            <mx:Tree id="myTree" width="50%" height="100%" labelField="@label"
                showRoot="false" dataProvider="{treeData}" change="treeChanged(event)"/>
            <mx:TextArea height="100%" width="50%"
                text="Selected Item: {selectedNode.@label}"/>
        </mx:HDividedBox>
        
    </mx:Panel>
    <mx:Button x="159" y="304" label="点我" click="dianwo()"/>

</mx:Application>

